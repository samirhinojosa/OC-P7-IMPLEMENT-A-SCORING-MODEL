version: '3.8'

services:
  fastapi:
    build: fastapi/
    volumes:
    - .:/usr/src/fastapi
    ports: 
      - 8008:8008
    networks:
      - deploy_network
    # restart: always
    # command: uvicorn server:app --host 0.0.0.0 --port 8008 --reload
    container_name: fastapi

  # streamlit:
  #   build: streamlit/
  #   depends_on:
  #     - fastapi
  #   ports: 
  #       - 8501:8501
  #   networks:
  #     - deploy_network
  #   container_name: streamlit

networks:
  deploy_network:
    driver: bridge